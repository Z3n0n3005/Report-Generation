{"id": "Pires_an", "name": "_Broom_-_2024_-_The_rules_of_multiplayer_cooperation_in_networks_o", "abstract_seg": "Community organization permeates both social and biological complex systems. To study its interplay with behavior emergence, we model mobile structured populations with multiplayer interactions. We derive general analytical methods for evolutionary dynamics under high home fidelity when populations self-organize into networks of asymptotically isolated communities. In this limit, community organization dominates over the network structure and emerging behavior is independent of network topology. We obtain the rules of multiplayer cooperation in networks of communities for different types of social dilemmas. The success of cooperation is a result of the benefits shared amongst communal cooperators outperforming the benefits reaped by defectors in mixed communities. Under weak selection, cooperation can evolve and be stable for any size (Q) and number (M ) of communities if the reward-to-cost ratio (V /K) of public goods is higher than a critical value. Community organization is a solid mechanism for sustaining the evolution of cooperation under public goods dilemmas, particularly when populations are organized into a higher number of smaller communities. Contrary to public goods dilemmas relating to production, the multiplayer Hawk-Dove (HD) dilemma is a commons dilemma focusing on the fair consumption of preexisting resources. This game holds mixed results but tends to favour cooperation under larger communities, highlighting that the two types of social dilemmas might lead to solid differences in the behaviour adopted under community structure.", "segments": [{"header": "Introduction", "content": "Understanding how individuals organize into social communities is of interest to various research fields due their ubiquitous presence in social systems. This is shown by the study of networks of friendships, academic collaborations, individual interests, online discourse, and political affiliation, amongst other social interaction systems The organization of individuals into social communities significantly influences their behaviour with one another, particularly when facing social dilemmas. Social dilemmas embody the conflict between social and individual interests, often framed as a choice one has to make between cooperating and defecting, the dynamics of which have been extensively modeled using evolutionary game theory. Incorporating community structure into these models has thus far entailed considering events of two different natures: within-community reproduction and between-community migration. These models are typically referred to as metapopulation dynamics, a classification of which has been performed in Furthermore, metapopulation models generally assume that communities are connected to each other in the same way, with few exceptions to this The framework introduced in its general form in We propose the use of this fully independent movement model to study evolutionary dynamics in networkand community-structured populations with multiplayer interactions. Our focus centres on the limit of high home fidelity, where communities exhibit asymptotically low mobility. In section 3.1, we derive general analytical methods for the dynamics in this limit. We conclude that the organization of the population into a network of communities uniquely influences the evolutionary dynamics through the number and size of the communities, rather than through the way communities are connected. Some dynamics amplify within-community selection and others increment between-community events. In section 3.2, we show that the balance between the two types of events determines whether cooperation evolves, and we obtain their contributions to fixation probabilities under weak selection for several social dilemmas. In section 3.3, we use this balance to derive the rules of multiplayer cooperation and compare them amongst social dilemmas. In section 3.4, we analyse in detail one particular game, the Charitable Prisoner's Dilemma, and draw a comparison with some of the results obtained in the widely explored pairwise donation game. In section 4, we connect our findings to the relevant literature on multiplayer social dilemmas, metapopulation dynamics, and mobile structured populations. Once again showcasing its versatility, this framework enabled the exploration of network and community structure, thereby revealing the high potential for the evolution of cooperation across diverse social dilemmas."}, {"header": "Model", "content": "The general framework introduced in A population is composed of N individuals I n = I 1 , ..., I N . Individuals are positioned on a spatial network with M places P m = P 1 , ..., P M , which has a set of edges connecting them. Even though the terms graph and network are often used interchangeably in the literature, here we follow the same terminology used in Under fully independent movement models, the position of each individual is independent both of where they were previously and of where other individuals will be where h is the home fidelity parameter, and d n is the degree of the home node of individual I n . We use the version of the territorial raider model under which each node of the network is home to a community of Q individuals, and thus M denotes the number of communities and N = M Q. The probability distribution of positions under the territorial raider model is represented in figure The fitness of each individual I n is obtained through the weighted average of the payoffs R n,m,G received in each place P m and each group composition G they can be in. We further introduce w, the intensity of selection as defined in We bring attention to an alternative notation used in the literature, where a background payoff defined as R is introduced. This notation is used under movement models such as those from This leads to the following adjustments to the fitness of individuals:We will make use of the first notation where the intensity of selection is used, as this is revealed more practical when inspecting the weak selection limit. Nonetheless, the second approach leads to a simple rescaling of the fitness F \u2032 = 1 w F when R = 1-w w , which has no impact on the evolutionary dynamics introduced later.We consider the multiplayer social dilemmas studied in ) when the focal individual I n is a cooperator (defector), as they are determined by the type of the focal individual and the number of cooperators c, and defectors d in their current group. We present the payoffs received under each social dilemma in table We follow an approach grounded on evolutionary graph theory Let us consider that the population goes through an evolutionary process operating on the strategies C and D used by each individual. This is modelled in discrete evolutionary steps, during which individuals may update their strategies. The probability that, at a given step, the strategy of an individual I i replaces that of I j is denoted by the replacement probability \u03c4 ij . This probability may depend in different ways on the fitness of individuals, thereby incorporating selection into the process, and on the replacement weights, thereby capturing their interaction structure. We recall the dynamics outlined in Evolutionary dynamics and replacement probabilitiesTable In instances where the replacement probability is not explicitly stated, it can be derived by multiplying the respective birth and death probabilities.The probability of fixation for a single mutant cooperator (defector) in a population with the opposing strategy is defined as \u03c1 C (\u03c1 D ). Selection is said to favor the fixation of cooperation if \u03c1 C > \u03c1 neutral , and it is said to favor its evolution if \u03c1 C > \u03c1 neutral > \u03c1 D "}, {"header": "Results", "content": "Let us consider the previously introduced model in the limit of high home fidelity h \u2192 \u221e. In section 3.1, we describe the evolutionary process arising from this limit across the six introduced dynamics and derive exact expressions for single mutant fixation probabilities under any network of communities. The analysis in this section is substantiated by the work in appendix A. In section 3.2, we analyze the expansion of fixation probabilities within the additional limit of weak selection, which unveils simple contributions of within-community fixation processes and between-community replacement events. We further analyze these contributions under the general social dilemma section. These findings are complemented by the content in appendix B. In section 3.3, we present the simple rules obtained for the evolution of cooperation under the general multiplayer social dilemmas, when three successive limits are considered: high home fidelity, weak selection and large networks of communities. In appendix C, we analyze the extent to which these rules are valid outside of the limits of large networks and weak selection. Moreover, we contextualize the particular case of the CPD with respect to prior literature on pairwise dilemmas in section 3.4.Consider a connected network comprising M places and an arbitrary topology. Each place is home to a community of size Q with movement following the territorial raider model (see figure In this limit, it is possible to obtain a closed-form expression for the fixation probability of a single mutant. The fixation process under each of the six introduced dynamics corresponds to a nested Moran process involving the fixation of a single mutant on its community and the fixation of that community in the population. A part of this process is represented in figure Figure In the context of high home fidelity, replacement events within the same community happen at an asymptotically larger rate than events between different communities. As such, fixation probabilities \u03c1 C and \u03c1 D are obtained by multiplying the probability of the original mutant fixating within its community, denoted as r C or r D , by the probability of the community achieving fixation in the whole population. We note that these probabilities are identical under the BDB, DBD, LB and LD dynamics because the transition probability ratios that characterize the process are identical at any given state of the population.Within-community fixation is equivalent to a frequency-dependent Moran process where the fitness of individuals corresponds to its asymptotic value in isolated communities as defined in equations 6 and 7. Fixation probabilities for cooperators and defectors are determined as follows:Upon reaching a state with homogeneous communities, one of two state-changing events may unfold. In one scenario, a cooperator replaces a defector from an adjacent community, with probability proportional to its communal fitness f C Q,0 . Subsequently, the new cooperator may fixate within that community with a probability of r C . Alternatively, a defector may replace a cooperator from a different community, proportionally to f D 0,Q , and the new defector may fixate within the new community with a probability of r D . The fixation process of one community on the entire population is equivalent to a fixed fitness Moran process, where the transition probability ratio is as follows (see a visual representation in figure Please note that the ratio between the two within-community fixation probabilities can be considered in its following simplified form The fixation probability of a single mutant cooperator or defector in a population of the opposing type is respectively the following:when \u0393 \u0338 = 1. Otherwise, lim h\u2192\u221e \u03c1 C = r C /M and lim h\u2192\u221e \u03c1 D = r D /M . The high home fidelity limit reveals this nested Moran process characterized by frequency-dependent fitness at the lower level and an equivalent fixed fitness of communities at the higher level. This emerges naturally from a simple individual selection process which operates within communities and between individuals of distinct communities with the frequency of replacements coupled with how often individuals interact in the same group. We note that fixation probabilities are independent of the topology of the network, i.e. the set of edges linking the homes of different communities. The number of communities M , their size Q, and the multiplayer game played by individuals are enough to determine the evolutionary outcome of the process. Given the general nature of equations 12 and 13, they can be used to assess the viability of cooperation under social dilemmas in any network of communities.The successful fixation of a strategy is determined by its relative success in introducing itself in other communities and successfully fixating there. Social dilemmas are characterized by a socially optimal strategy (i.e. Pareto optimal) which excels in between-community replacements, and an individually optimal strategy (potentially dominant) which performs better in within-community fixation. The balance between these two factors is present at each step of the higher level (community) fixation process, as it is represented in figure This condition is more easily met when the size of the network is increased. Under M \u2192 \u221e, it becomes equivalent to \u0393 < 1, further implying that \u03c1 C > 1/N > \u03c1 D and that there is one and only one stable strategy. This shows that the definition of \u0393 encapsulates the balance between the socially and individually optimal strategies, and is enough to determine the outcome of the evolutionary process under large networks.The DBB and BDD dynamics lead to different quantitative results as transition probability ratios in the resulting Markov chain are different from the previous four dynamics. Fixation probabilities are obtained in a parallel way to the ones presented in 12 and 13, using the following corrected values of within-community fixation probabilities r C and r D , and transition probability ratios \u0393:with T DBB/BDD denoting the total weight-fitness correction factors under those two dynamics, which are positive as evident in their definition:There are two main distinctions between these equations and those derived in the previous section for the remaining dynamics. On one side, both DBB and BDD amplify between-community replacement events, owing to the squaring of the communal fitness ratio in 17. At the same time, they suppress within-community selection, as it can be concluded from the additional coefficients multiplied by the fitness ratio in equations 15 and 16. The condition \u03c1 C > \u03c1 D leads towhere the right-hand side is closer to 1 than that of equation 14, thus benefiting cooperation.Further considering the weak selection limit w \u2192 0, the fixation probabilities presented in section 3.1 can be expanded, leading to the following equations (see appendix B for more details):where. Equation The expansion assumes a different form under the DBB and BDD dynamics, both of which result in the following equation:This reflects the aspects highlighted in the previous section about the impact of these dynamics. We observe the amplification of between-community selection by a factor of 2, and the suppression of within-community selection by a factor of 1 -1/(Q -1).Each of the three contributing terms present in equations 21 and 25 shows a correction coefficient related to the finiteness of the network, which naturally vanishes under M \u2192 \u221e. Increasing the network size magnifies the relative impact of between-community replacement events on the fixation probability. At the same time, it increases the impact of the within-community fixation of residents but makes the within-community fixation of mutants relatively less significant than it is in smaller networks. In the limiting case where there are only two communities (M = 2), this last term exhibits a finite network correction coefficient three times larger than that of the within-community fixation of residents. This is so because the fixation of the original mutant in its community takes an increased importance in the overall process.Increasing the size of communities decreases the impact of between-community contributions under both dynamics. Simultaneously, it amplifies the impact of within-community contributions under DBB and BDD dynamics. From equation 25, we conclude that under the smallest communities (Q = 2), the expansion of fixation probabilities under DBB and BDD dynamics is reduced to a single term depending on \u2206 CD , and withincommunity fixation terms vanish. This is associated with within-community fixation becoming a completely random process, which remains true under stronger selection, as it was noted in Consider the general social dilemmas defined in table 1. We calculate the values of each of the three contributions \u2206 CD , \u03b4 C and \u03b4 D under all of the dilemmas introduced there, and present them in table 4 of appendix B.Under public goods dilemmas, the term \u2206 CD is positive when cooperation is the Pareto optimal strategy. This happens when the reward for cooperating is sufficiently high, provided communities have a size capable of producing the reward. In the same dilemmas, the terms \u03b4 C and \u03b4 D exhibit negative and positive signs, respectively, due to defection being a dominant strategy.Under the HD dilemma, the contribution \u2206 CD remains positive regardless of reward value. The contributions \u03b4 C and \u03b4 D can be negative and positive for high V /K, positive and negative for low V /K, and both positive for intermediate V /K when Q > 2. These patterns reflect that cooperation is always Pareto optimal in this dilemma, while within a fixed group it maintains anti-coordination properties.We observe that cooperation can evolve under sufficiently large V /K in public goods games, irrespective of the number of communities M , their size Q (provided it allows them to produce a reward), and how they are connected. This holds even in the limiting case of two arbitrarily large communities. It is so because the contribution of between-community events can be made arbitrarily large by increasing V , while the remaining contributions remain constant. Although the CPD does not meet these criteria, we demonstrate this conclusion remains valid in the more detailed analysis in section 3.4. Similarly, under the HD dilemma, cooperation can evolve under sufficiently low V /K irrespective of the number and size of communities, and their connections.Moreover, based on equations 21 and 25 and the particular values their terms hold under each public goods dilemma, we conclude in appendix C.1 that decreasing the size of the network has a detrimental effect to cooperation under all public goods dilemmas. Smaller networks systematically lead to stricter conditions for the evolution of cooperation in public goods dilemmas. Conversely, no consistent trend emerges in the HD dilemma.Summing the expansions obtained for the fixation probabilities of cooperators and defectors, we arrive at the following equation:where, under the DBB/BDD dynamics, an additional coefficient 1 -1/(Q -1) is included in the second term on the right-hand side. It is worth noting that when the difference between the payoffs of cooperators and defectors in the same group is constant, the contributions of the within-community fixation processes of cooperators and defectors to equations 21 and 25 are symmetric, i.e. \u03b4 C = -\u03b4 D . For such dilemmas, there is always one and only one stable strategy under weak selection. This holds for all social dilemmas discussed here, except for the S and the TS with Q > L + 1, where bi-stability is possible (\u03b4 C + \u03b4 D < 0), and the HD dilemma, which allows for mutual fixation (\u03b4 C + \u03b4 D > 0). As established in section 3.1, under M \u2192 \u221e there is one and only one stable strategy, determined by the value of \u0393. This is in agreement with the fact that, for the remaining dilemmas, the second term on the right-hand side of equation 26 vanishes under large networks. We conclude that both weak selection and a large number of communities often lead to simple dominance cases. Based on these findings, we emphasize that in all public goods dilemmas, if cooperation fixates above neutrality under weak selection or large networks, then defection fixates below it (and vice versa). In the next section, we will extend our analysis, systematically presenting the conditions under which cooperation evolves for all social dilemmas.In the present section, we further extend our analysis of general multiplayer social dilemmas. Cooperation evolves successfully, i.e. \u03c1 C > \u03c1 neutral > \u03c1 D , for larger numbers of communities ifThis rule is obtained considering that the first-order term of the weak selection expansion in equation 21 has to be positive. The equation above is valid under the BDB/DBD/LB/LD dynamics, whereas for the DBB/BDD dynamics, a multiplying factor (1/2)(1 -1/(Q -1)) is added to the right-hand side of the equation.We obtain the condition under which cooperation evolves for each of the social dilemmas studied here, for all community sizes Q and the six evolutionary dynamics, and present them in table Evolution of cooperation under BDB/DBD/LB/LD DBB/BDDTable , the derived conditions are the following: cooperation never evolves under the CPD, TVD, SH, FSH, and TS (assuming that L \u2265 2), cooperation evolves for V /K > 1 under the PD, PDV, VD and S, and both strategies are neutral under the HD. These results are valid under arbitrary values of w and M , and they are the same under all six dynamics.The results presented in this table suggest that social dilemmas split into distinct groups. Non-threshold public goods dilemmas such as the PD, the VD, the S, and the PDV allow cooperators to evolve under any community size if the reward-to-cost ratio V /K surpasses a critical value dependent on Q. This value is the same under the PD and the VD, but lower under the S and the convex PDV (w > 1), and higher under the concave PDV (w < 1). The CPD presents a distinct landscape, where cooperation only evolves under the DBB and BDD dynamics. The critical value of the reward-to-cost ratio in this dilemma is the lowest of all non-threshold public goods games. We will analyze this dilemma in the following section.Threshold dilemmas such as the TVD, the SH, the FSH, and the TS have a critical value of the reward-tocost ratio, above which cooperation evolves, only if the size of communities is at least of the same size as the public goods production threshold (Q \u2265 L). Otherwise, cooperation can never evolve regardless of the value of V /K. The TVD and the SH lead to the same conditions, which coincide with the PD and the VD when Q \u2265 L. The TS leads to lower critical values of the reward-to-cost ratio, and the FSH leads to higher values. We further note that the critical values obtained under the FSH when Q \u2265 L are simply the ones obtained under the PDV with \u03c9 \u2192 0. Critical values under threshold games generally don't depend on L, although their existence does. The exception to this is the TS dilemma, under which a larger production threshold decreases the critical value Figure of the reward-to-cost ratio when communities are large enough to produce rewards.The HD dilemma, which unlike the others is a commons dilemma, behaves distinctively from all of the remaining dilemmas. The reward-to-cost ratio has to be lower than a critical value for cooperation to evolve. It is clear that in this case, high rewards are detrimental to the evolution of cooperation.We note that the critical value of the reward-to-cost ratio under public goods dilemmas always increases with the size of communities and regardless of the used evolutionary dynamics. Additionally, as mentioned in section 3.2, considering lower values of M always leads to stricter conditions for the evolution of cooperation. This reinforces the conclusion that populations organized into large networks of small communities lead to a larger region of the parameter space under which cooperation evolves. This is so because cooperators hold an advantage in between-community reproduction events (intensified under large M ), but they are disadvantaged in within-community fixation processes (minimized under small Q).In this context, the HD dilemma holds key differences against the public goods dilemmas. Under this game, cooperators hold an advantage in between-community reproduction events for any payoff parameters. Regarding within-community fixation processes, defectors hold an advantage in small communities, but cooperators are the ones doing so in larger communities. However, there is a second overlapping effect which is described in section 3.2: increasing the size of communities decreases the impact of between-community reproduction and increases the impact of within-community fixation. Under the BDB dynamics, the second effect is not strong enough and the first effect dominates: communities with larger size always lead to higher critical values below which cooperators fixate, therefore benefiting them. However, under the DBB/BDD dynamics, both effects interplay and each dominates at a different scale of community sizes. Cooperators always evolve when Q = 2 because fixation depends only on between-community reproduction. When increasing the community size to Q = 3, 4, the emerging critical values below which cooperation evolves decrease with community size because of the increased importance of within-community fixation beneficial to defectors in those community sizes. However, for larger values of Q \u2265 5, cooperation evolves for larger regions of V /K when increasing Q because within-community fixation starts benefiting cooperators.Comparing the critical values obtained between the different evolutionary dynamics, we note that the DBB and BDD dynamics always extend the values of V /K for which cooperation successfully fixates when compared to the remaining dynamics. They therefore hold lower critical values in all public goods dilemmas and higher critical values in the HD dilemma. We note the extreme case of the CPD, under which cooperators never evolve under the BDB and equivalent dynamics, but find an evolutionary way under the DBB and BDD dynamics. These results can be explained by the fact that these dynamics when compared to the remaining, amplify the impact of between-community replacement terms (where cooperators succeed relative to defectors), and suppress within-community selection terms (where defectors succeed).The CPD is a particular game of interest among public goods dilemmas. Under the CPD, cooperators do not benefit from their own contributions to public goods. This assures not only that individuals have equal gains from switching, but also that the gains are the same for all group sizes. In other words, the cost K is the effective cost that a cooperator pays for not defecting, regardless of group composition and size. This game is thus a social dilemma regardless of how large the reward is and the size of the interacting group Table This rule quantifies the detrimental effect that considering a lower number of larger communities (lower M and higher Q) has on the evolution of cooperation. At the same time, it materializes a fundamental result: cooperation can evolve provided rewards are high enough, for any given community size and number, and regardless of the connections between them. This is a remarkably general result that works for the smallest networks of two communities under which cooperation evolves ifA parallel result was attained in The rules obtained under the CPD are parallel not only to the clique structures explored in At the same time, when interacting via the CPD, cooperators can never evolve if the evolutionary dynamics considered are the BDB/DBD/LB/LD dynamics, as shown in appendix A.2 for arbitrary values of intensity of selection and number of communities. This had been already hypothesized in The CPD can be seen as a multiplayer extension of the pairwise donation game and as such, the two games may lead to analogous results. More generally, the exploration of higher-order interactions leads to different interacting structures and evolutionary outcomes "}, {"header": "Discussion", "content": "In the present work, we use the territorial raider model previously approached in In this context, we show that whether a strategy evolves or not depends on the advantage it holds against other strategies in two contexts: when in homogeneous groups and when in within-community fixation processes. Multiplayer social dilemmas involve the existence of a conflict between cooperating as a socially best strategy, i.e. a Pareto optimal one, and defecting as an individually best strategy, i.e. a dominant one Applying this balance to the multiplayer social dilemmas explored in Remarkably, the derived dynamics did not depend on how communities were connected, with the community effects overwriting other potentially overlapping structural effects. It was observed in Public goods dilemmas consistently lead to the evolution of cooperation down to lower values of the rewardto-cost ratio when a larger number of smaller communities is considered. This is in line with what is observed in alternative community and deme models The results presented in this paper were obtained within the limit of high home fidelity, under which communities become asymptotically bounded interacting groups. A relaxation of this limit is expected to lead to several key differences. Firstly, we would expect an increase in the rate at which between-community events happen, tied to the occurrence of group interactions between individuals of different communities, and therefore to the blurring of the interacting boundaries between them. In the pairwise donation game, considering less isolated clusters leads to stricter conditions for the evolution of cooperation Accounting for interacting groups in a different way may therefore lead to fundamentally different results, even when the underlying social structure remains very similar or the same, as it was previously reported in Consider a connected network with M places and an arbitrary set of edges between them. Within the extended territorial raider model, each node will be home to a community of size Q.We denote F C k c,d as the fitness of cooperators C k in a community with c cooperators and d defectors with home in place P k . In the limit of high home fidelity, this can be represented as the following expansion:where X(k) denotes the set of places adjacent to P k on the network, and d k represents the size of that set, corresponding to the degree of the node. The zeroth-order term of the expansion is dependent only on the composition of the community present in place P k . Similarly, we have that the fitness of defectors is reduced to the following:We denote f C c,d and f D c,d as the zeroth-order terms of the fitness expansion under high home fidelity, which are presented in equations 6 and 7 of the main text.In the next sections, we will focus on the resulting fixation processes in the limit of high home fidelity.Starting from the state where all individuals in the population use strategy D, we consider the occurrence of a mutation leading one of them to adopt strategy C. At each step of the BDB process, one individual is chosen for reproduction proportional to their fitness, and another one is chosen for death with probability proportional to the time spent with the first. This means that while there are mixed communities, type-changing replacement events will occur mainly within those communities as we will see below. We denote r C h (r D h ) as the within-community fixation probability of a single cooperator (defector) in a community of defectors (cooperators). We define this as the probability that starting with one mutant in a community of residents, we will observe the fixation of that mutant in the community before we observe that type vanishing. This probability is equal to the sum of the probabilities of all the paths that alter the number of mutants in that community from 1 to Q without passing by 0. We note that this can be split into the sum of the probabilities of paths under which no type-altering between-community replacements occur before withincommunity fixation is attained, S 1 , S 2 , ..., and those under which at least one type-altering between-community replacement occurs before fixation is attained, S \u2032 1 , S \u2032 2 , ...:In the limit we are considering, the sum over the first set of paths introduced before tends to the fixation probability obtained in a well-mixed community The paths in the second set introduced above involve at least one between-community replacement, therefore holding a probability of at least the first order in h -1 . This highlights the fact that they occur at a different time-scale from within-community fixation processes:Therefore, the cooperator within-community fixation probability in the limit h \u2192 \u221e can be represented as the following:Similar to this, we can obtain the same equation for the within-community fixation probability of a single defector by using the following expression:We denote r C and r D as the zeroth-order terms of the equations above, which are presented in equations 8 and 8 of the main text.We call \u03c1 C the probability that a single mutant cooperator will fixate in a population of defectors. Under h \u2192 \u221e, populations reach the states where each community is homogeneous, i.e. c = Q or c = 0, before any between-community replacement occurs. When the population is in one of the homogeneous community states, it will be altered only when a cooperator replaces a defector from an adjacent community, or vice versa. After a new cooperator (defector) is born, the population will move to a different homogeneous community state with one more (less) cooperator community with probability r C (r D ), or it will return to the previous state with probability -r C (1 -r D ).Let us call I the set of communities composed of only cooperators, M the entire set of communities, and M \\I the set of communities of defectors. At a homogeneous community state denoted by I, the probability that the size of set I increases by one after a given evolutionary step is:The expression above is the product of probabilities of three successive necessary events: 1) choosing a cooperator from a particular community for birth, 2) choosing a defector from another community to be replaced by the first cooperator, and 3) the within-community fixation of the new cooperator before another between community type-altering event occurs. Note that in the probability of choosing a cooperator for birth, we have replaced the fitness of individuals considered in the homogeneous community state by their zeroth-order terms defined in equations 6 and 7, with higher-order terms being explicitly summed onto that probability. The replacement weights w ij between individuals with homes in different places P i and P j are independent of their two strategies, and they are multiplied by Q to account for all the defectors present in each of the communities in M \\I. The within-community fixation probability is perturbed by higher-order terms in h -1 already analysed when its expression was obtained. The probability that the size of set I decreases by one is the following:The two equations 36 and 37 depend on the particular set I because the sum of weights w ij depends on it. These weights tend to zero as h \u2192 \u221e, but they can be considered at their lowest order in h -1 . As long as there is no disconnected component of the network of communities (\u2200i\u2203j \u0338 = i(w ij \u0338 = 0)), this probability is low but positive, regardless of the particular set I considered. However, because replacement weights are symmetric, i.e. w ij = w ji , the terms in the two transition probabilities in the above equations are identical. Therefore, the ratio between the two probabilities, which we denote \u0393, does not depend on the particular set I of communities which are composed of cooperators:Furthermore, the transition probability ratio above is constant under all homogeneous community states. After the initial within-community fixation of a cooperator, the probability that the community will fixate on the whole population thus becomes a simple fixed fitness Moran probability The fixation probability of one single cooperator will therefore be equal to the following:when \u0393 \u0338 = 1. Otherwise, lim h\u2192\u221e \u03c1 C = r C /M . Similarly, we have that:This result is surprisingly simple and shows that the topology of the underlying network plays no role in the limit of high home fidelity, as long as there is no disconnected component of the network. The dynamics in that limit depend only on within-community fixation probabilities and on the probability ratio \u0393.The equations presented in 34-40 are valid for dynamics BDB, DBD, LB, and LD. This equivalence holds for all territorial networks in the limit h \u2192 \u221e. This is so because the transition probability ratios are the same under all these dynamics, both in each step of the within-community processes considered to build equations 34 and 35, and in the community fixation process as presented in equation 38.Under the CPD with BDB, the effective fitness \u0393 of the between-community process can be obtained using equation 38. Replacing r D /r C with the simplified ratio between the two probabilities We split the denominator and numerator of the previous product into two products and apply the definition of rewards under the CPD (see table We note that an extension of the products in the numerator and denominator to c = 0 and c \u2032 = Q respectively, would include the extra terms multiplied by each of the products. Doing that, together with the change of variable c = c \u2032 -1, we obtain the following:We have that \u0393 > 1 for any choice of payoff parameters, intensity of selection, and community size. This means that the Moran probability will always be lower than 1/M . At the same time, we note that r C < 1/Q because under the CPD, cooperators always do worse than defectors in the same group. Therefore, when we consider the BDB dynamics under the CPD with high home fidelity, cooperators never fixate above the neutral probability 1/(M Q) for any community number and size, network topology, and payoff parameter choices.A procedure analogous to the one conducted in section A.1 applies to the remaining two dynamics presented in this paper. However, these dynamics exhibit distinct transition probability ratios compared to the four aforementioned ones, resulting in quantitatively different outcomes.We start by noting that the sum of paths that end in fixation with no type-altering between-community replacements is obtained using different transition probabilities. Let us start with the DBB dynamics, under which the transition probability from having c cooperators to having c + 1 or c -1 at a given evolutionary step are respectively as follows:Repeating this process considering the BDD dynamics, we obtain the following transition probabilities, which were simplified by multiplying the numerator and denominator by both cooperator and defector's fitness:The ratio U (c, d) = P -(c, d)/P + (c, d) between transition probabilities under both dynamics leads to the following expression:where we have used the following definitions:Now, we use these transition probability ratios to compute the zeroth-order term of the within-community fixation probability expansion, similar to what was done in section A.1, getting the following result:Following the same procedure for the within-community fixation of defectors, we get the following result:We denote r C DBB/BDD and r D DBB/BDD as the zeroth-order terms of the equations above, which are presented in equations 15 and 16 of the main text.The difference in transition probabilities, when compared to the previous 4 dynamics, also affects the probability that the number of communities increases or decreases by one in the next evolutionary step. We start by looking at what happens under the DBB dynamics:The preceding probability encompasses: 1) the uniform random selection of a specific community for the death of one of its individuals; 2) the subsequent selection, if the first individual was a defector, of a cooperator community for birth, involving any of its Q cooperators; and 3) the fixation of the invading cooperator in the newly mixed community. The sum of fractions above includes a simplification coming from the fact that the denominator is a sum over all products of weights and fitness according to the definition from table 2, which in the limit h \u2192 \u221e simply tends to the fitness of communal residents f D 0,Q plus higher-order terms in h -1 .This will introduce another key difference in the results. We obtain the following transition probability in the opposing direction:Now looking at what happens under BDD dynamics, we obtain the following expressions for transition probabilities between homogeneous community states:We note that, once again, the highest-order terms in these probabilities are indeed first-order in h -1 due to the effects of between-community replacements happening between different communities on the network. However, the particular set of edges between the nodes of the network, i.e. its topology, does not influence the ratio between probabilities, but only the time-scale at which these transitions occur. The probability ratio \u0393 DBB/BDD is independent of I and its size, as it was under the remaining dynamics:Therefore the resulting process under high home fidelity in these two dynamics is parallel to the one occurring under the remaining four dynamics, with two quantitative differences: within-community fixation probabilities have correction coefficients as represented in equations 51 and 52, and the overall population process has an altered equivalent fitness characterized in equation 57.The resulting fixation probabilities are therefore the following:when \u0393 DBB/BDD \u0338 = 1. Otherwise, lim h\u2192\u221e \u03c1 C DBB/BDD = r C DBB/BDD /M . Similarly, we have that:when \u0393 DBB/BDD \u0338 = 1. Otherwise, lim h\u2192\u221e \u03c1 D DBB/BDD = r D DBB/BDD /M .Holding the assumption of high home fidelity, we now introduce the limit of weak selection. We highlight the fact that the limits are considered in the stated order: first, we consider home fidelity to be asymptotically high, and only then we consider selection to be asymptotically weak. It has been proved that the order in which the limits of weak selection and large population size are considered impacts the resulting asymptotic fixation probability expansions and the conditions for the evolution of a given strategy to be favoured in comparison to neutral fixation We start from equation 39 and expand it around w \u2192 0. In that case, we obtain the following expression:We start to simplify this equation by noting that, under this limit, within-community fixation probabilities tend to 1/Q. In that limit, we define their derivatives in respect to w as the following:. These equations can be simplified by taking into account that each term on the inner sum is repeated Q -c and Q -d times respectively in the outer sum, thus leading to the following expressions:.In the same limit, we observe that \u0393 \u2192 1, leading the Moran probability with effective fitness \u0393 to simply tend to 1/M . We then evaluate the derivative of the Moran probability and obtain the following relation:The derivative of the effective fitness \u0393 can be obtained in the following way:whereReplacing these redefined terms onto the original equation 60 of the expanded fixation probability, we obtained the following relation:Following the same procedure for the fixation probabilities of defectors, we obtain the previous equation with swapped indexes C and D:The expansion is slightly different when we consider the DBB and BDD dynamics. The original expansion is parallel to the one presented in equation 60, the only difference being that all instances of r C , r D , and \u0393 are replaced by their respective equations under the DBB and BDD dynamics. Evaluated in the limit w \u2192 0, the three quantities lead to the same values as in the previous dynamics. Therefore, all differences come from their derivatives. Based on the definitions presented in equations 51 and 52, and the previously defined derivatives \u03b4 C and \u03b4 D , we obtain the following relations for their derivatives evaluated in the limit w \u2192 0:DBBThe derivative of the effective fitness \u0393 can be obtained in the following way:which, based on equations 67, 70 and 71, leads to the following equation:Replacing these terms in the fixation probability expansion parallel to the one from equation 60, we obtain the following resulting equations:To achieve the resulting rules presented in section 3.2, we systematically compute the terms \u2206 CD , \u03b4 C and \u03b4 D under each of the general social dilemmas approached. These are summarised in the following table:Table The values of \u2206 CD can be trivially obtained based on the calculation of the rewards among communal cooperators and communal defectors. The values of \u03b4 C and \u03b4 D are often simple to calculate because payoff differences between cooperators and defectors in mixed communities are constant under most social dilemmas. The only dilemmas under which this is not as trivial are the S, the TS and the HD dilemmas, under which we had to include the harmonic series defined as the following:arises from the linear dependency of all \u2206 CD on V , whereas \u03b4 C and \u03b4 D lack such dependence except under the CPD (a game already shown to support cooperation under any number of communities through equation 77). Consequently, there is always a critical value of V above which the first-order term of the weak selection expansion is positive. In the context of the HD dilemma, cooperation can consistently evolve under sufficiently small values of V /K when Q \u2265 2, regardless of the network size. This stems from the linear dependence of \u2206 CD and \u03b4 C on K, and \u03b4 D on -K, ensuring that all contributions to the fixation probability expansion are positive when K reaches a high enough value.In this section, we relax the weak selection limit. This limit was introduced in section 3.2 and it was used together with the limit of large number of communities in the succeeding sections to achieve simple rules of cooperation. We focus on understanding the effect of considering larger values of intensity of selection on the critical value of the reward-to-cost ratio, denoted as (V /K) c , above which cooperation fixates in public goods dilemmas and below which cooperation fixates in the HD dilemma. Figures Under other dilemmas such as the PD, the PDV, and the TS, lower intensities of selection also led to lower critical values of the reward-to-cost ratio, but the differences obtained across values of w are substantially lower. In those dilemmas, the payoff parameters we explored always led to the existence of a critical value, contrary to what was observed under the CPD and other threshold games such as the TVD, SH and the FSH, which showed otherwise similar trends. Moreover, under the PDV, the TVD, and the FSH, the minimum value of (V /K) c occurred for intermediate intensities of selection. These correspond to an optimal w for which cooperation evolves under the largest regions of the payoff parameter space. Under the VD and the S, higher intensities of selection lead to lower critical values of the reward-to-cost ratio. Therefore, cooperation evolves for larger regions of the payoff parameter space under stronger selection. This trend was more pronounced under the VD.As an overall trend under public goods dilemmas, we note that larger community sizes require higher rewardto-cost ratios for cooperators to successfully fixate. This is concluded from the rules of multiplayer cooperation (section 3.3), obtained under weak selection and a large number of communities. Here, we observe that this still holds when those limits are relaxed.Furthermore, we can observe some of the effects of considering a finite number of communities. The critical values obtained under w \u2192 0 and shown in figures 4 and 5 for public goods dilemmas are higher than the ones presented in table 3, which were obtained considering a large number of communities. Larger numbers of communities were proven C.1 to decrease the values of (V /K) c above which cooperation evolves under public goods games. Naturally, the observed difference is more prominent when Q is larger and of the same order as M .Most public goods dilemmas lead to one and only one stable strategy when one of the limits of large number of communities or weak selection is considered, as it was noted in sections 3.1 and 3.2. Under the S and the TS, the only exceptions to that rule, there are some cases of bi-stability when the system is close to neutrality, under which none of the strategies fixates on the other. Overall, this means that in either of those limits, if cooperation fixates on defection above neutrality, it will also be a stable strategy. In settings with strong selection and a finite number of communities, such as the ones explored in this section, we have not observed any outcome where mutual fixation occurs, thus suggesting that the previous conclusion might hold for more general regions of the parameter space. Under the HD dilemma, the only commons dilemma studied here, cooperators fixate above neutrality when V /K < (V /K) c . Therefore, from figure "}]}